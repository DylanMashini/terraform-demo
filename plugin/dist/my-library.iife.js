var myLibrary=function(){"use strict";var dn=Object.defineProperty;var hn=(k,N,z)=>N in k?dn(k,N,{enumerable:!0,configurable:!0,writable:!0,value:z}):k[N]=z;var H=(k,N,z)=>(hn(k,typeof N!="symbol"?N+"":N,z),z);function k(){}function N(t,e){for(const o in e)t[o]=e[o];return t}function z(t){return t()}function je(){return Object.create(null)}function K(t){t.forEach(z)}function Me(t){return typeof t=="function"}function O(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function tt(t){return Object.keys(t).length===0}function Te(t,...e){if(t==null){for(const n of e)n(void 0);return k}const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function nt(t){let e;return Te(t,o=>e=o)(),e}function oe(t,e,o){t.$$.on_destroy.push(Te(e,o))}function ue(t,e,o,n){if(t){const s=Oe(t,e,o,n);return t[0](s)}}function Oe(t,e,o,n){return t[1]&&n?N(o.ctx.slice(),t[1](n(e))):o.ctx}function ce(t,e,o,n){if(t[2]&&n){const s=t[2](n(o));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],i=Math.max(e.dirty.length,s.length);for(let l=0;l<i;l+=1)r[l]=e.dirty[l]|s[l];return r}return e.dirty|s}return e.dirty}function fe(t,e,o,n,s,r){if(s){const i=Oe(e,o,n,r);t.p(i,s)}}function ae(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let n=0;n<o;n++)e[n]=-1;return e}return-1}function q(t){const e={};for(const o in t)o[0]!=="$"&&(e[o]=t[o]);return e}function xe(t,e){const o={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(o[n]=t[n]);return o}function _e(t,e,o){return t.set(o),e}function v(t,e){t.appendChild(e)}function ot(t,e,o){const n=st(t);if(!n.getElementById(e)){const s=$("style");s.id=e,s.textContent=o,rt(n,s)}}function st(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function rt(t,e){return v(t.head||t,e),e.sheet}function C(t,e,o){t.insertBefore(e,o||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function Ae(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function $(t){return document.createElement(t)}function He(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function de(t){return document.createTextNode(t)}function x(){return de(" ")}function se(){return de("")}function W(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function g(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function he(t,e){for(const o in e)g(t,o,e[o])}function it(t){return Array.from(t.childNodes)}function Pe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Le(t,e){t.value=e??""}function lt(t){const e={};return t.childNodes.forEach(o=>{e[o.slot||"default"]=!0}),e}let re;function ie(t){re=t}function ut(){if(!re)throw new Error("Function called outside component initialization");return re}function ct(t){ut().$$.on_mount.push(t)}function ft(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach(n=>n.call(this,e))}const Y=[],F=[];let Z=[];const be=[],Be=Promise.resolve();let $e=!1;function Ie(){$e||($e=!0,Be.then(we))}function We(){return Ie(),Be}function ve(t){Z.push(t)}function ye(t){be.push(t)}const ke=new Set;let G=0;function we(){if(G!==0)return;const t=re;do{try{for(;G<Y.length;){const e=Y[G];G++,ie(e),at(e.$$)}}catch(e){throw Y.length=0,G=0,e}for(ie(null),Y.length=0,G=0;F.length;)F.pop()();for(let e=0;e<Z.length;e+=1){const o=Z[e];ke.has(o)||(ke.add(o),o())}Z.length=0}while(Y.length);for(;be.length;)be.pop()();$e=!1,ke.clear(),ie(t)}function at(t){if(t.fragment!==null){t.update(),K(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ve)}}function dt(t){const e=[],o=[];Z.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),Z=e}const pe=new Set;let U;function Q(){U={r:0,c:[],p:U}}function X(){U.r||K(U.c),U=U.p}function m(t,e){t&&t.i&&(pe.delete(t),t.i(e))}function y(t,e,o,n){if(t&&t.o){if(pe.has(t))return;pe.add(t),U.c.push(()=>{pe.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}function ge(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function le(t,e){const o={},n={},s={$$scope:1};let r=t.length;for(;r--;){const i=t[r],l=e[r];if(l){for(const u in i)u in l||(n[u]=1);for(const u in l)s[u]||(o[u]=l[u],s[u]=1);t[r]=l}else for(const u in i)s[u]=1}for(const i in n)i in o||(o[i]=void 0);return o}function Ne(t){return typeof t=="object"&&t!==null?t:{}}function Ce(t,e,o){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=o,o(t.$$.ctx[n]))}function A(t){t&&t.c()}function M(t,e,o){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,o),ve(()=>{const r=t.$$.on_mount.map(z).filter(Me);t.$$.on_destroy?t.$$.on_destroy.push(...r):K(r),t.$$.on_mount=[]}),s.forEach(ve)}function T(t,e){const o=t.$$;o.fragment!==null&&(dt(o.after_update),K(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function ht(t,e){t.$$.dirty[0]===-1&&(Y.push(t),Ie(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(t,e,o,n,s,r,i=null,l=[-1]){const u=re;ie(t);const c=t.$$={fragment:null,ctx:[],props:r,update:k,not_equal:s,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:je(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};i&&i(c.root);let d=!1;if(c.ctx=o?o(t,e.props||{},(a,f,...p)=>{const h=p.length?p[0]:f;return c.ctx&&s(c.ctx[a],c.ctx[a]=h)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](h),d&&ht(t,a)),f}):[],c.update(),d=!0,K(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const a=it(e.target);c.fragment&&c.fragment.l(a),a.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&m(t.$$.fragment),M(t,e.target,e.anchor),we()}ie(u)}let ze;typeof HTMLElement=="function"&&(ze=class extends HTMLElement{constructor(e,o,n){super();H(this,"$$ctor");H(this,"$$s");H(this,"$$c");H(this,"$$cn",!1);H(this,"$$d",{});H(this,"$$r",!1);H(this,"$$p_d",{});H(this,"$$l",{});H(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=o,n&&this.attachShadow({mode:"open"})}addEventListener(e,o,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(o),this.$$c){const s=this.$$c.$on(e,o);this.$$l_u.set(o,s)}super.addEventListener(e,o,n)}removeEventListener(e,o,n){if(super.removeEventListener(e,o,n),this.$$c){const s=this.$$l_u.get(o);s&&(s(),this.$$l_u.delete(o))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(r){return()=>{let i;return{c:function(){i=$("slot"),r!=="default"&&g(i,"name",r)},m:function(c,d){C(c,i,d)},d:function(c){c&&w(i)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const o={},n=lt(this);for(const r of this.$$s)r in n&&(o[r]=[e(r)]);for(const r of this.attributes){const i=this.$$g_p(r.name);i in this.$$d||(this.$$d[i]=me(i,r.value,this.$$p_d,"toProp"))}for(const r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:o,$$scope:{ctx:[]}}});const s=()=>{this.$$r=!0;for(const r in this.$$p_d)if(this.$$d[r]=this.$$c.$$.ctx[this.$$c.$$.props[r]],this.$$p_d[r].reflect){const i=me(r,this.$$d[r],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[r].attribute||r):this.setAttribute(this.$$p_d[r].attribute||r,i)}this.$$r=!1};this.$$c.$$.after_update.push(s),s();for(const r in this.$$l)for(const i of this.$$l[r]){const l=this.$$c.$on(r,i);this.$$l_u.set(i,l)}this.$$l={}}}attributeChangedCallback(e,o,n){var s;this.$$r||(e=this.$$g_p(e),this.$$d[e]=me(e,n,this.$$p_d,"toProp"),(s=this.$$c)==null||s.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(o=>this.$$p_d[o].attribute===e||!this.$$p_d[o].attribute&&o.toLowerCase()===e)||e}});function me(t,e,o,n){var r;const s=(r=o[t])==null?void 0:r.type;if(e=s==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!o[t])return e;if(n==="toAttribute")switch(s){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(s){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function pt(t,e,o,n,s,r){let i=class extends ze{constructor(){super(t,o,s),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map(l=>(e[l].attribute||l).toLowerCase())}};return Object.keys(e).forEach(l=>{Object.defineProperty(i.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(u){var c;u=me(l,u,e),this.$$d[l]=u,(c=this.$$c)==null||c.$set({[l]:u})}})}),n.forEach(l=>{Object.defineProperty(i.prototype,l,{get(){var u;return(u=this.$$c)==null?void 0:u[l]}})}),r&&(i=r(i)),t.element=i,i}class I{constructor(){H(this,"$$");H(this,"$$set")}$destroy(){T(this,1),this.$destroy=k}$on(e,o){if(!Me(o))return k;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const s=n.indexOf(o);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!tt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gt);const pn="";/**
 * @license lucide-svelte v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function qe(t,e,o){const n=t.slice();return n[11]=e[o][0],n[12]=e[o][1],n}function Ee(t){let e,o=[t[12]],n={};for(let s=0;s<o.length;s+=1)n=N(n,o[s]);return{c(){e=He(t[11]),he(e,n)},m(s,r){C(s,e,r)},p(s,r){he(e,n=le(o,[r&32&&s[12]]))},d(s){s&&w(e)}}}function De(t){let e=t[11],o,n=t[11]&&Ee(t);return{c(){n&&n.c(),o=se()},m(s,r){n&&n.m(s,r),C(s,o,r)},p(s,r){s[11]?e?O(e,s[11])?(n.d(1),n=Ee(s),e=s[11],n.c(),n.m(o.parentNode,o)):n.p(s,r):(n=Ee(s),e=s[11],n.c(),n.m(o.parentNode,o)):e&&(n.d(1),n=null,e=s[11])},d(s){s&&w(o),n&&n.d(s)}}}function mt(t){let e,o,n,s,r,i=ge(t[5]),l=[];for(let f=0;f<i.length;f+=1)l[f]=De(qe(t,i,f));const u=t[10].default,c=ue(u,t,t[9],null);let d=[Ke,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:s=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],a={};for(let f=0;f<d.length;f+=1)a=N(a,d[f]);return{c(){e=He("svg");for(let f=0;f<l.length;f+=1)l[f].c();o=se(),c&&c.c(),he(e,a)},m(f,p){C(f,e,p);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);v(e,o),c&&c.m(e,null),r=!0},p(f,[p]){if(p&32){i=ge(f[5]);let h;for(h=0;h<i.length;h+=1){const L=qe(f,i,h);l[h]?l[h].p(L,p):(l[h]=De(L),l[h].c(),l[h].m(e,o))}for(;h<l.length;h+=1)l[h].d(1);l.length=i.length}c&&c.p&&(!r||p&512)&&fe(c,u,f,f[9],r?ce(u,f[9],p,null):ae(f[9]),null),he(e,a=le(d,[Ke,p&128&&f[7],(!r||p&4)&&{width:f[2]},(!r||p&4)&&{height:f[2]},(!r||p&2)&&{stroke:f[1]},(!r||p&28&&n!==(n=f[4]?Number(f[3])*24/Number(f[2]):f[3]))&&{"stroke-width":n},(!r||p&257&&s!==(s=f[6]("lucide-icon","lucide",f[0]?`lucide-${f[0]}`:"",f[8].class)))&&{class:s}]))},i(f){r||(m(c,f),r=!0)},o(f){y(c,f),r=!1},d(f){f&&w(e),Ae(l,f),c&&c.d(f)}}}function _t(t,e,o){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","mergeClasses"];let s=xe(e,n),{$$slots:r={},$$scope:i}=e,{name:l=void 0}=e,{color:u="currentColor"}=e,{size:c=24}=e,{strokeWidth:d=2}=e,{absoluteStrokeWidth:a=!1}=e,{iconNode:f}=e;const p=(...h)=>h.filter((L,ne,_)=>!!L&&_.indexOf(L)===ne).join(" ");return t.$$set=h=>{o(8,e=N(N({},e),q(h))),o(7,s=xe(e,n)),"name"in h&&o(0,l=h.name),"color"in h&&o(1,u=h.color),"size"in h&&o(2,c=h.size),"strokeWidth"in h&&o(3,d=h.strokeWidth),"absoluteStrokeWidth"in h&&o(4,a=h.absoluteStrokeWidth),"iconNode"in h&&o(5,f=h.iconNode),"$$scope"in h&&o(9,i=h.$$scope)},e=q(e),[l,u,c,d,a,f,p,s,e,i,r]}class bt extends I{constructor(e){super(),B(this,e,_t,mt,O,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5,mergeClasses:6})}get mergeClasses(){return this.$$.ctx[6]}}const Se=bt;function $t(t){let e;const o=t[2].default,n=ue(o,t,t[3],null);return{c(){n&&n.c()},m(s,r){n&&n.m(s,r),e=!0},p(s,r){n&&n.p&&(!e||r&8)&&fe(n,o,s,s[3],e?ce(o,s[3],r,null):ae(s[3]),null)},i(s){e||(m(n,s),e=!0)},o(s){y(n,s),e=!1},d(s){n&&n.d(s)}}}function vt(t){let e,o;const n=[{name:"bot-message-square"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[$t]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)s=N(s,n[r]);return e=new Se({props:s}),{c(){A(e.$$.fragment)},m(r,i){M(e,r,i),o=!0},p(r,[i]){const l=i&3?le(n,[n[0],i&2&&Ne(r[1]),i&1&&{iconNode:r[0]}]):{};i&8&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){y(e.$$.fragment,r),o=!1},d(r){T(e,r)}}}function yt(t,e,o){let{$$slots:n={},$$scope:s}=e;const r=[["path",{d:"M12 6V2H8"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z"}],["path",{d:"M2 12h2"}],["path",{d:"M9 11v2"}],["path",{d:"M15 11v2"}],["path",{d:"M20 12h2"}]];return t.$$set=i=>{o(1,e=N(N({},e),q(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=q(e),[r,e,n,s]}class kt extends I{constructor(e){super(),B(this,e,yt,vt,O,{})}}const wt=kt;function Nt(t){let e;const o=t[2].default,n=ue(o,t,t[3],null);return{c(){n&&n.c()},m(s,r){n&&n.m(s,r),e=!0},p(s,r){n&&n.p&&(!e||r&8)&&fe(n,o,s,s[3],e?ce(o,s[3],r,null):ae(s[3]),null)},i(s){e||(m(n,s),e=!0)},o(s){y(n,s),e=!1},d(s){n&&n.d(s)}}}function Ct(t){let e,o;const n=[{name:"bot"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Nt]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)s=N(s,n[r]);return e=new Se({props:s}),{c(){A(e.$$.fragment)},m(r,i){M(e,r,i),o=!0},p(r,[i]){const l=i&3?le(n,[n[0],i&2&&Ne(r[1]),i&1&&{iconNode:r[0]}]):{};i&8&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){y(e.$$.fragment,r),o=!1},d(r){T(e,r)}}}function Et(t,e,o){let{$$slots:n={},$$scope:s}=e;const r=[["path",{d:"M12 8V4H8"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}],["path",{d:"M2 14h2"}],["path",{d:"M20 14h2"}],["path",{d:"M15 13v2"}],["path",{d:"M9 13v2"}]];return t.$$set=i=>{o(1,e=N(N({},e),q(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=q(e),[r,e,n,s]}class St extends I{constructor(e){super(),B(this,e,Et,Ct,O,{})}}const jt=St;function Mt(t){let e;const o=t[2].default,n=ue(o,t,t[3],null);return{c(){n&&n.c()},m(s,r){n&&n.m(s,r),e=!0},p(s,r){n&&n.p&&(!e||r&8)&&fe(n,o,s,s[3],e?ce(o,s[3],r,null):ae(s[3]),null)},i(s){e||(m(n,s),e=!0)},o(s){y(n,s),e=!1},d(s){n&&n.d(s)}}}function Tt(t){let e,o;const n=[{name:"user"},t[1],{iconNode:t[0]}];let s={$$slots:{default:[Mt]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)s=N(s,n[r]);return e=new Se({props:s}),{c(){A(e.$$.fragment)},m(r,i){M(e,r,i),o=!0},p(r,[i]){const l=i&3?le(n,[n[0],i&2&&Ne(r[1]),i&1&&{iconNode:r[0]}]):{};i&8&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){o||(m(e.$$.fragment,r),o=!0)},o(r){y(e.$$.fragment,r),o=!1},d(r){T(e,r)}}}function Ot(t,e,o){let{$$slots:n={},$$scope:s}=e;const r=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];return t.$$set=i=>{o(1,e=N(N({},e),q(i))),"$$scope"in i&&o(3,s=i.$$scope)},e=q(e),[r,e,n,s]}class xt extends I{constructor(e){super(),B(this,e,Ot,Tt,O,{})}}const At=xt;function Re(t){let e,o,n,s,r,i,l;return o=new wt({}),{c(){e=$("button"),A(o.$$.fragment),n=x(),s=$("span"),s.textContent="Open chat",g(s,"class","sr-only"),g(e,"class","inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input hover:text-accent-foreground h-10 w-10 rounded-full bg-gray-900 text-gray-50 shadow-lg hover:bg-gray-900/90 focus:outline-none focus:ring-2 focus:ring-gray-950 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90 dark:focus:ring-gray-300"),g(e,"type","button"),g(e,"aria-haspopup","dialog"),g(e,"aria-expanded","false"),g(e,"aria-controls","radix-:r1h:"),g(e,"data-state","closed")},m(u,c){C(u,e,c),M(o,e,null),v(e,n),v(e,s),r=!0,i||(l=W(e,"click",t[1]),i=!0)},i(u){r||(m(o.$$.fragment,u),r=!0)},o(u){y(o.$$.fragment,u),r=!1},d(u){u&&w(e),T(o),i=!1,l()}}}function Ht(t){let e,o,n=!t[0]&&Re(t);return{c(){n&&n.c(),e=se()},m(s,r){n&&n.m(s,r),C(s,e,r),o=!0},p(s,[r]){s[0]?n&&(Q(),y(n,1,1,()=>{n=null}),X()):n?r&1&&m(n,1):(n=Re(s),n.c(),m(n,1),n.m(e.parentNode,e))},i(s){o||(m(n),o=!0)},o(s){y(n),o=!1},d(s){s&&w(e),n&&n.d(s)}}}function Pt(t,e,o){let{open:n}=e;function s(r){ft.call(this,t,r)}return t.$$set=r=>{"open"in r&&o(0,n=r.open)},[n,s]}class Lt extends I{constructor(e){super(),B(this,e,Pt,Ht,O,{open:0})}}function Bt(t){let e,o;return e=new At({}),{c(){A(e.$$.fragment)},m(n,s){M(e,n,s),o=!0},i(n){o||(m(e.$$.fragment,n),o=!0)},o(n){y(e.$$.fragment,n),o=!1},d(n){T(e,n)}}}function It(t){let e,o;return e=new jt({}),{c(){A(e.$$.fragment)},m(n,s){M(e,n,s),o=!0},i(n){o||(m(e.$$.fragment,n),o=!0)},o(n){y(e.$$.fragment,n),o=!1},d(n){T(e,n)}}}function Wt(t){let e,o,n,s,r;const i=[It,Bt],l=[];function u(c,d){return c[0]=="agent"?0:1}return n=u(t),s=l[n]=i[n](t),{c(){e=$("span"),o=$("span"),s.c(),g(o,"class","flex h-full w-full items-center justify-center rounded-full bg-muted"),g(e,"class","relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full")},m(c,d){C(c,e,d),v(e,o),l[n].m(o,null),r=!0},p(c,[d]){let a=n;n=u(c),n!==a&&(Q(),y(l[a],1,1,()=>{l[a]=null}),X(),s=l[n],s||(s=l[n]=i[n](c),s.c()),m(s,1),s.m(o,null))},i(c){r||(m(s),r=!0)},o(c){y(s),r=!1},d(c){c&&w(e),l[n].d()}}}function zt(t,e,o){let{author:n}=e;return t.$$set=s=>{"author"in s&&o(0,n=s.author)},[n]}class Je extends I{constructor(e){super(),B(this,e,zt,Wt,O,{author:0})}}const ee=[];function Ue(t,e=k){let o;const n=new Set;function s(l){if(O(t,l)&&(t=l,o)){const u=!ee.length;for(const c of n)c[1](),ee.push(c,t);if(u){for(let c=0;c<ee.length;c+=2)ee[c][0](ee[c+1]);ee.length=0}}}function r(l){s(l(t))}function i(l,u=k){const c=[l,u];return n.add(c),n.size===1&&(o=e(s,r)||k),l(t),()=>{n.delete(c),n.size===0&&o&&(o(),o=null)}}return{set:s,update:r,subscribe:i}}const Ve={contents:"Hello, how can I assist you today?",author:"agent",updating:!1};let D=JSON.parse(window.localStorage.getItem("ChatPluginMessageHistory")||"null");(D===null||D.length===0)&&(D=[Ve]),D[D.length-1].updating&&(D.pop(),D.pop());let P=Ue(D);P.subscribe(t=>{localStorage.setItem("ChatPluginMessageHistory",JSON.stringify(t))});let te=Ue("TextInput");function Kt(t){let e,o,n,s,r;return{c(){e=$("button"),e.textContent="End",o=x(),n=$("button"),n.textContent="Continue",g(e,"class","inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border h-10 px-4 py-2 bg-transparent border-red-500 text-red-500 hover:bg-red-500 hover:text-gray-50 w-1/2"),g(n,"class","inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input hover:text-accent-foreground h-10 px-4 py-2 bg-white text-gray-900 hover:bg-gray-200 w-1/2")},m(i,l){C(i,e,l),C(i,o,l),C(i,n,l),s||(r=[W(e,"click",t[0]),W(n,"click",t[1])],s=!0)},p:k,i:k,o:k,d(i){i&&(w(e),w(o),w(n)),s=!1,K(r)}}}function qt(t,e,o){let n,s;oe(t,P,u=>o(3,n=u)),oe(t,te,u=>o(4,s=u));let{open:r}=e;const i=()=>{_e(P,n=[Ve],n),_e(te,s="TextInput",s),o(2,r=!1)},l=()=>{n.push({contents:"<END>",author:"agent",updating:!1,hidden:!0}),n.push({contents:"SYSTEM: The user indicated they wanted to continue the conversation. Await their next message.",author:"user",updating:!1,hidden:!0}),_e(te,s="TextInput",s),P.set(n)};return t.$$set=u=>{"open"in u&&o(2,r=u.open)},[i,l,r]}class Dt extends I{constructor(e){super(),B(this,e,qt,Kt,O,{open:2})}}function Rt(t){let e,o,n,s,r;return{c(){e=$("input"),o=x(),n=$("button"),n.textContent="Send",g(e,"class","flex-1 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),g(e,"placeholder","Type your message..."),g(n,"class","inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2")},m(i,l){C(i,e,l),Le(e,t[0]),C(i,o,l),C(i,n,l),s||(r=[W(e,"input",t[2]),W(e,"keydown",t[3]),W(n,"click",t[1])],s=!0)},p(i,[l]){l&1&&e.value!==i[0]&&Le(e,i[0])},i:k,o:k,d(i){i&&(w(e),w(o),w(n)),s=!1,K(r)}}}function Jt(t,e,o){let n;oe(t,P,u=>o(4,n=u));let{message:s}=e;const r=()=>{s&&!n[n.length-1].updating&&(n.push({author:"user",contents:s,updating:!1}),P.set(n),o(0,s=""))};function i(){s=this.value,o(0,s)}const l=u=>u.key=="Enter"&&r();return t.$$set=u=>{"message"in u&&o(0,s=u.message)},[s,r,i,l]}class Ut extends I{constructor(e){super(),B(this,e,Jt,Rt,O,{message:0})}}const mn="";function Ye(t,e,o){const n=t.slice();return n[5]=e[o],n}function Fe(t){let e,o,n,s,r,i,l,u,c,d,a,f,p,h,L,ne,_=t[2]&&Ze(t),V=ge(t[3]),E=[];for(let b=0;b<V.length;b+=1)E[b]=Ge(Ye(t,V,b));const an=b=>y(E[b],1,1,()=>{E[b]=null}),Qe=[Xt,Qt],R=[];function Xe(b,S){return b[4]=="TextInput"?0:b[4]=="EndConversationPrompt"?1:-1}return~(f=Xe(t))&&(p=R[f]=Qe[f](t)),{c(){e=$("div"),o=$("div"),_&&_.c(),n=x(),s=$("div"),r=$("div"),r.innerHTML='<div class="text-sm font-medium">Support Agent</div>',i=x(),l=$("button"),l.innerHTML='<svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg> <span class="sr-only">Close chat</span>',u=x(),c=$("div");for(let b=0;b<E.length;b+=1)E[b].c();d=x(),a=$("div"),p&&p.c(),g(r,"class","flex items-center gap-3"),g(s,"class","bg-gray-900 text-gray-50 px-4 py-3 rounded-t-lg flex items-center justify-between"),g(c,"class","flex-1 overflow-y-auto p-4 space-y-4 relative"),g(a,"class","bg-gray-100 px-4 py-3 rounded-b-lg flex items-center gap-2"),g(o,"class","flex flex-col h-[500px]"),g(e,"class","w-full max-w-md rounded-lg shadow-l bg-white")},m(b,S){C(b,e,S),v(e,o),_&&_.m(o,null),v(o,n),v(o,s),v(s,r),v(s,i),v(s,l),v(o,u),v(o,c);for(let J=0;J<E.length;J+=1)E[J]&&E[J].m(c,null);t[10](c),v(o,d),v(o,a),~f&&R[f].m(a,null),h=!0,L||(ne=[W(l,"click",t[9]),W(c,"scroll",t[6])],L=!0)},p(b,S){if(b[2]?_?_.p(b,S):(_=Ze(b),_.c(),_.m(o,n)):_&&(_.d(1),_=null),S&8){V=ge(b[3]);let j;for(j=0;j<V.length;j+=1){const et=Ye(b,V,j);E[j]?(E[j].p(et,S),m(E[j],1)):(E[j]=Ge(et),E[j].c(),m(E[j],1),E[j].m(c,null))}for(Q(),j=V.length;j<E.length;j+=1)an(j);X()}let J=f;f=Xe(b),f===J?~f&&R[f].p(b,S):(p&&(Q(),y(R[J],1,1,()=>{R[J]=null}),X()),~f?(p=R[f],p?p.p(b,S):(p=R[f]=Qe[f](b),p.c()),m(p,1),p.m(a,null)):p=null)},i(b){if(!h){for(let S=0;S<V.length;S+=1)m(E[S]);m(p),h=!0}},o(b){E=E.filter(Boolean);for(let S=0;S<E.length;S+=1)y(E[S]);y(p),h=!1},d(b){b&&w(e),_&&_.d(),Ae(E,b),t[10](null),~f&&R[f].d(),L=!1,K(ne)}}}function Ze(t){let e,o,n;return{c(){e=$("button"),e.textContent="Down",g(e,"class","bg-opacity-25 bg-black w-4 h-4 rounded-full absolute right-1/2 bottom-14")},m(s,r){C(s,e,r),o||(n=W(e,"click",t[7]),o=!0)},p:k,d(s){s&&w(e),o=!1,n()}}}function Vt(t){let e,o,n,s,r=t[5].contents+"",i,l,u,c,d;return u=new Je({props:{author:t[5].author}}),{c(){e=$("div"),o=$("div"),n=$("div"),s=$("p"),i=de(r),l=x(),A(u.$$.fragment),c=x(),g(n,"class","bg-gray-900 text-gray-50 p-3 rounded-lg max-w-[75%] text-sm"),g(o,"class","flex items-start gap-3 justify-end"),g(e,"class","flex items-start justify-end gap-3")},m(a,f){C(a,e,f),v(e,o),v(o,n),v(n,s),v(s,i),v(o,l),M(u,o,null),v(e,c),d=!0},p(a,f){(!d||f&8)&&r!==(r=a[5].contents+"")&&Pe(i,r);const p={};f&8&&(p.author=a[5].author),u.$set(p)},i(a){d||(m(u.$$.fragment,a),d=!0)},o(a){y(u.$$.fragment,a),d=!1},d(a){a&&w(e),T(u)}}}function Yt(t){let e,o,n,s,r,i,l;n=new Je({props:{author:t[5].author}});function u(a,f){return a[5].updating?Gt:Zt}let c=u(t),d=c(t);return{c(){e=$("div"),o=$("div"),A(n.$$.fragment),s=x(),r=$("div"),d.c(),i=x(),g(r,"class","bg-gray-100 p-3 rounded-lg max-w-[75%] text-sm"),g(o,"class","flex items-start gap-3"),g(e,"class","flex items-start gap-3")},m(a,f){C(a,e,f),v(e,o),M(n,o,null),v(o,s),v(o,r),d.m(r,null),v(e,i),l=!0},p(a,f){const p={};f&8&&(p.author=a[5].author),n.$set(p),c===(c=u(a))&&d?d.p(a,f):(d.d(1),d=c(a),d&&(d.c(),d.m(r,null)))},i(a){l||(m(n.$$.fragment,a),l=!0)},o(a){y(n.$$.fragment,a),l=!1},d(a){a&&w(e),T(n),d.d()}}}function Ft(t){return{c:k,m:k,p:k,i:k,o:k,d:k}}function Zt(t){let e,o=t[5].contents+"",n;return{c(){e=$("p"),n=de(o)},m(s,r){C(s,e,r),v(e,n)},p(s,r){r&8&&o!==(o=s[5].contents+"")&&Pe(n,o)},d(s){s&&w(e)}}}function Gt(t){let e;return{c(){e=$("div"),e.innerHTML='<div class="typing-dot svelte-1vr6k1j"></div> <div class="typing-dot svelte-1vr6k1j"></div> <div class="typing-dot svelte-1vr6k1j"></div>',g(e,"class","flex items-center justify-center gap-1")},m(o,n){C(o,e,n)},p:k,d(o){o&&w(e)}}}function Ge(t){let e,o,n,s;const r=[Ft,Yt,Vt],i=[];function l(u,c){return u[5].hidden?0:u[5].author=="agent"?1:2}return e=l(t),o=i[e]=r[e](t),{c(){o.c(),n=se()},m(u,c){i[e].m(u,c),C(u,n,c),s=!0},p(u,c){let d=e;e=l(u),e===d?i[e].p(u,c):(Q(),y(i[d],1,1,()=>{i[d]=null}),X(),o=i[e],o?o.p(u,c):(o=i[e]=r[e](u),o.c()),m(o,1),o.m(n.parentNode,n))},i(u){s||(m(o),s=!0)},o(u){y(o),s=!1},d(u){u&&w(n),i[e].d(u)}}}function Qt(t){let e,o,n;function s(i){t[12](i)}let r={};return t[0]!==void 0&&(r.open=t[0]),e=new Dt({props:r}),F.push(()=>Ce(e,"open",s)),{c(){A(e.$$.fragment)},m(i,l){M(e,i,l),n=!0},p(i,l){const u={};!o&&l&1&&(o=!0,u.open=i[0],ye(()=>o=!1)),e.$set(u)},i(i){n||(m(e.$$.fragment,i),n=!0)},o(i){y(e.$$.fragment,i),n=!1},d(i){T(e,i)}}}function Xt(t){let e,o,n;function s(i){t[11](i)}let r={};return t[5]!==void 0&&(r.message=t[5]),e=new Ut({props:r}),F.push(()=>Ce(e,"message",s)),{c(){A(e.$$.fragment)},m(i,l){M(e,i,l),n=!0},p(i,l){const u={};!o&&l&32&&(o=!0,u.message=i[5],ye(()=>o=!1)),e.$set(u)},i(i){n||(m(e.$$.fragment,i),n=!0)},o(i){y(e.$$.fragment,i),n=!1},d(i){T(e,i)}}}function en(t){let e,o,n=t[0]&&Fe(t);return{c(){n&&n.c(),e=se()},m(s,r){n&&n.m(s,r),C(s,e,r),o=!0},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&m(n,1)):(n=Fe(s),n.c(),m(n,1),n.m(e.parentNode,e)):n&&(Q(),y(n,1,1,()=>{n=null}),X())},i(s){o||(m(n),o=!0)},o(s){y(n),o=!1},d(s){s&&w(e),n&&n.d(s)}}}function tn(t,e,o){let n,s;oe(t,P,_=>o(3,n=_)),oe(t,te,_=>o(4,s=_));let{open:r}=e,i="",l,u,c=!1,d=0;const a=()=>{if(l.scrollTop===l.scrollHeight-l.offsetHeight){o(2,c=!1);return}c||d>l.scrollTop&&o(2,c=!0),d=l.scrollTop},f=()=>{r&&l.scroll({top:l.scrollHeight,behavior:"smooth"})},p=()=>o(0,r=!r);function h(_){F[_?"unshift":"push"](()=>{l=_,o(1,l)})}function L(_){i=_,o(5,i)}function ne(_){r=_,o(0,r)}return t.$$set=_=>{"open"in _&&o(0,r=_.open)},t.$$.update=()=>{t.$$.dirty&263&&(r&&!u?(o(8,u=new MutationObserver(_=>{c||f()})),We().then(()=>{f(),u.observe(l,{childList:!0,subtree:!0,attributes:!1})})):r||o(8,u=void 0))},[r,l,c,n,s,i,a,f,u,p,h,L,ne]}class nn extends I{constructor(e){super(),B(this,e,tn,en,O,{open:0})}}async function on(t){let e="https://api.demo.dylanmashini.com";P.subscribe(async o=>{if(o[o.length-1].author==="user"&&nt(te)==="TextInput"){let n=fetch(`${e}/create-chat`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({api_key:t,messages:o.map(r=>({message:r.contents,author:r.author}))})});P.update(r=>(r.push({author:"agent",contents:"",updating:!0}),r));let s=await(await n).json();if(s.response.includes("<END>")){te.set("EndConversationPrompt"),P.update(r=>(r.pop(),r=r,console.log(r),r));return}P.update(r=>(r[r.length-1].updating=!1,r[r.length-1].contents=s.response,r))}})}function sn(){let t=document.body.getElementsByTagName("my-component")[0].shadowRoot,e=document.createElement("link");e.rel="stylesheet",e.href="https://demo.dylanmashini.com/style.css",t.appendChild(e)}function rn(t){ot(t,"svelte-va4hx6",".root.svelte-va4hx6{display:none}")}function ln(t){let e,o,n,s,r,i,l;n=new Lt({props:{open:t[0]}}),n.$on("click",t[2]);function u(d){t[3](d)}let c={};return t[0]!==void 0&&(c.open=t[0]),r=new nn({props:c}),F.push(()=>Ce(r,"open",u)),{c(){e=$("div"),o=$("div"),A(n.$$.fragment),s=x(),A(r.$$.fragment),g(o,"class","fixed bottom-4 right-4 z-50"),g(e,"class","root svelte-va4hx6")},m(d,a){C(d,e,a),v(e,o),M(n,o,null),v(o,s),M(r,o,null),l=!0},p(d,[a]){const f={};a&1&&(f.open=d[0]),n.$set(f);const p={};!i&&a&1&&(i=!0,p.open=d[0],ye(()=>i=!1)),r.$set(p)},i(d){l||(m(n.$$.fragment,d),m(r.$$.fragment,d),l=!0)},o(d){y(n.$$.fragment,d),y(r.$$.fragment,d),l=!1},d(d){d&&w(e),T(n),T(r)}}}function un(t,e,o){let{publicKey:n}=e;ct(async()=>{sn(),await We(),on(n)});let s=!1;const r=()=>o(0,s=!s);function i(l){s=l,o(0,s)}return t.$$set=l=>{"publicKey"in l&&o(1,n=l.publicKey)},[s,n,r,i]}class cn extends I{constructor(e){super(),B(this,e,un,ln,O,{publicKey:1},rn)}get publicKey(){return this.$$.ctx[1]}set publicKey(e){this.$$set({publicKey:e}),we()}}customElements.define("my-component",pt(cn,{publicKey:{}},[],[],!0));function fn(t){let e=document.createElement("my-component");e.publicKey=t.publicKey,window.onload=function(){document.body.appendChild(e)}}return fn}();
